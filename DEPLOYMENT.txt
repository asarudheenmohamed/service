0. Create /var/log/django and chown it

1. INstall necessary packages

sudo apt-get install build-essential nginx python-dev python-pip python-sqlite sqlite git libmysqlclient-dev postgresql uwsgi-plugin-python

2. Install virtualenv & uwsgi
sudo pip install virtualenv virtualenvwrapper uwsgi 

3. Create an user django
groupadd django
mkdir /home/django
useradd -d /home/django -gsudo -gdjango -s /bin/bash django
chown django:django /home/django
passwd django

// log files
sudo mkdir /var/log/django
sudo chown django:django /var/log/django
mkdir /var/log/django/driver/
mkdir /var/log/django/inventory/

4. cd /home/django
pull in the changes

6. Start env
mkdir ~/Env
virtualenv tendercuts

7. Install the requirements
> pip install -r requirements.txt

8. Collect all static file and run server
>./manage.py collectstatic
>./manage.py runserver

    8.a: Create database services
        > create database services;

    8.b: Make migrations
        > python manage.py migrate


PART - 2: uwsgi deployment
1. sudo mkdir -p /etc/uwsgi/sites
2. copy the config file 
    > sudo cp uwsgi/tendercuts.ini /etc/uwsgi/sites/
3. Add entry for booting the process
    > sudo cp uwsgi/uwsgi.conf /etc/init/
4. sudo service uwsgi start

PART - 2.a: uwsgi deployment
    > sudo cp uwsgi/tendercuts.ini /etc/uwsgi/apps-available/
    > ln to apps-enabled
    > restart and run


Part - 3 Nginx server
1. set up the config and make the site available
    >sudo cp nginx/tendercuts /etc/nginx/sites-available
2. enable the config
    >sudo ln -s /etc/nginx/sites-available/tendercuts /etc/nginx/sites-enabled
3. Start
 > sudo service nginx configtest && sudo service nginx restart

 Part -4 : Celery
 Activate: source Env/tendercuts/bin/activate

 1. Config files
    >sudo cp celery/default/celeryd /etc/default/celeryd
    >sudo cp celery/default/celerybeat /etc/default/celerybeat

 2. Create direcotry for storing the schedule logs
    > sudo mkdir /var/run/celery
    > sudo chown django:django /var/run/celery/
 
 3. Note: in celerybeat => make sure
        DEFAULT_USER="celery" => "django":
    We will run it as django for now

 4. sudo cp celery/celerybeatd /etc/init.d/celerybeatd
 5. sudo cp celery/celeryd /etc/init.d/
 
 6. /etc/init.d/celerybeatd start

 7. flower -A config --port=5555
 celery flower -A config --broker='amqp://guest:guest@localhost:5672//' &


Ensure you create a super user




